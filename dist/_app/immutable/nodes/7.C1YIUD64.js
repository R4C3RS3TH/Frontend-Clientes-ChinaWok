import{f as w,a as h,e as N}from"../chunks/Bvtvaf-4.js";import"../chunks/W2UfPBHU.js";import{o as lt}from"../chunks/BABsFuV9.js";import{p as vt,l as G,d as pt,a as ut,g as t,m as $,t as O,u as d,$ as mt,b as V,c as n,r as i,s as l,ao as H}from"../chunks/CwnyM7B6.js";import{s as u}from"../chunks/Dy0Yr3Eh.js";import{i as J}from"../chunks/C4m43_V4.js";import{h as bt}from"../chunks/DEJnJuWj.js";import{s as L}from"../chunks/BVxk0ZfD.js";import{i as gt}from"../chunks/DJMlumk-.js";import{s as ft,a as Q}from"../chunks/D1vtHolZ.js";import{s as xt}from"../chunks/5_Mw-njR.js";import{i as _t,c as yt,a as kt}from"../chunks/6jeJ50EK.js";import{I as ht}from"../chunks/DXyAY-8v.js";const $t=()=>{const v=xt;return{page:{subscribe:v.page.subscribe},navigating:{subscribe:v.navigating.subscribe},updated:v.updated}},wt={subscribe(v){return $t().page.subscribe(v)}};var St=w('<span class="rounded-full bg-orange-100 px-3 py-1 text-sm font-medium text-orange-800"> </span>'),Ct=w('<div class="overflow-hidden rounded-2xl bg-white shadow-lg md:flex"><div class="md:w-1/2"><div class="relative h-64 w-full md:h-full"><img class="absolute inset-0 h-full w-full object-cover"/></div></div> <div class="flex flex-col p-8 md:w-1/2"><div class="mb-auto"><h1 class="mb-4 text-3xl font-bold text-gray-900"> </h1> <p class="mb-6 text-lg text-gray-600"> </p> <div class="mb-6 flex items-center gap-4"><span class="text-3xl font-bold text-gray-900"> </span> <!></div></div> <div class="border-t border-gray-100 pt-6"><div class="mb-6 flex items-center gap-4"><span class="font-medium text-gray-700">Cantidad:</span> <div class="flex items-center rounded-lg border border-gray-300"><button class="px-4 py-2 text-gray-600 hover:bg-gray-100 disabled:opacity-50">-</button> <span class="w-12 text-center font-medium text-gray-900"> </span> <button class="px-4 py-2 text-gray-600 hover:bg-gray-100 disabled:opacity-50">+</button></div></div> <button class="w-full rounded-full bg-red-600 py-4 text-lg font-bold text-white transition-colors hover:bg-red-700 disabled:cursor-not-allowed disabled:bg-gray-300"> </button></div></div></div>'),jt=w('<div class="flex flex-col items-center justify-center py-20"><div class="mb-4 h-16 w-16 animate-spin rounded-full border-4 border-red-200 border-t-red-600"></div> <p class="text-gray-500">Cargando producto...</p></div>'),It=w('<div class="min-h-screen bg-gray-50 py-12"><div class="container mx-auto px-4"><!></div></div>');function Dt(v,z){vt(z,!1);const K=()=>Q(wt,"$page",M),S=()=>Q(_t,"$inventoryStore",M),[M,R]=ft(),f=$();let e=$(null),W=$(!0),c=$(1);function o(r){if(r!=null)return typeof r=="object"&&"S"in r?r.S:typeof r=="object"&&"N"in r?r.N:r}lt(()=>{ht.getInstance().initialize()});function X(){t(e)&&(yt.update(r=>r.find(s=>s.id===t(e).id)?r.map(s=>s.id===t(e).id?{...s,quantity:s.quantity+t(c)}:s):[...r,{...t(e),quantity:t(c)}]),kt.set(!0))}function Y(){t(e)&&t(c)<(t(e).stock||10)&&H(c)}function Z(){t(c)>1&&H(c,-1)}G(()=>K(),()=>{V(f,K().params.id)}),G(()=>(t(f),S()),()=>{if(t(f)&&S()){const r=Object.values(S()),a=r.find(s=>(o(s.sk)||o(s.sku)||o(s.SK)||o(s.producto_id))===t(f));if(a){const s=o(a.sk)||o(a.sku),m=o(a.pk)||o(a.tenantId),x=o(a.name)||o(a.nombre),_=o(a.description)||o(a.descripcion),p=o(a.price)||o(a.precio),b=o(a.img)||o(a.imagenUrl),y=o(a.stock);V(e,{id:s,nombre:x||"Producto sin nombre",descripcion:_||"",precio:p?parseFloat(p):0,imagenUrl:b||"/placeholder_food.png",stock:y?parseInt(y):0,sku:s,tenantId:m}),V(W,!1)}else r.length>0}}),pt(),gt();var C=It();bt("1juvf0x",r=>{O(()=>{mt.title=`${t(e),d(()=>t(e)?t(e).nombre:"Cargando...")??""} - Chinawok`},void 0,void 0,void 0,!0)});var P=n(C),tt=n(P);{var et=r=>{var a=Ct(),s=n(a),m=n(s),x=n(m);i(m),i(s);var _=l(s,2),p=n(_),b=n(p),y=n(b,!0);i(b);var j=l(b,2),at=n(j,!0);i(j);var T=l(j,2),I=n(T),st=n(I);i(I);var ot=l(I,2);{var nt=g=>{var F=St(),ct=n(F);i(F),O(()=>u(ct,`Â¡Solo quedan ${t(e),d(()=>t(e).stock)??""}!`)),h(g,F)};J(ot,g=>{t(e),d(()=>t(e).stock<=5)&&g(nt)})}i(T),i(p);var B=l(p,2),q=n(B),D=l(n(q),2),U=n(D),A=l(U,2),it=n(A,!0);i(A);var E=l(A,2);i(D),i(q);var k=l(q,2),dt=n(k,!0);i(k),i(B),i(_),i(a),O(g=>{L(x,"src",(t(e),d(()=>t(e).imagenUrl))),L(x,"alt",(t(e),d(()=>t(e).nombre))),u(y,(t(e),d(()=>t(e).nombre))),u(at,(t(e),d(()=>t(e).descripcion))),u(st,`S/ ${g??""}`),U.disabled=t(c)<=1,u(it,t(c)),E.disabled=(t(c),t(e),d(()=>t(c)>=(t(e).stock||10))),k.disabled=(t(e),d(()=>t(e).stock===0)),u(dt,(t(e),d(()=>t(e).stock===0?"Agotado":"Agregar al Carrito")))},[()=>(t(e),d(()=>t(e).precio.toFixed(2)))]),N("click",U,Z),N("click",E,Y),N("click",k,X),h(r,a)},rt=r=>{var a=jt();h(r,a)};J(tt,r=>{t(e)?r(et):r(rt,!1)})}i(P),i(C),h(v,C),ut(),R()}export{Dt as component};
