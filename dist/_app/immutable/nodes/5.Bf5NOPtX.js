import{f as x,a as b,e as q}from"../chunks/Bvtvaf-4.js";import"../chunks/W2UfPBHU.js";import{o as J}from"../chunks/BABsFuV9.js";import{p as B,a as U,r as l,c as f,t as j,g as e,l as E,d as Q,m as v,s as L,b as m,u as c}from"../chunks/CwnyM7B6.js";import{s as D}from"../chunks/Dy0Yr3Eh.js";import{e as S,i as F}from"../chunks/BjMeLA8U.js";import{s as V}from"../chunks/C2ZrNjat.js";import{i as $}from"../chunks/DJMlumk-.js";import{s as W,a as X}from"../chunks/D1vtHolZ.js";import{M as Y}from"../chunks/DPjkEmBl.js";import{p as I}from"../chunks/DBC0mXjD.js";import{i as Z}from"../chunks/6jeJ50EK.js";import{I as ee}from"../chunks/DXyAY-8v.js";var re=x("<button> </button>"),te=x('<div class="flex flex-wrap gap-2 py-4"></div>');function oe(y,g){B(g,!1);let p=I(g,"categories",24,()=>[]),_=I(g,"activeCategory",8,""),O=I(g,"onSelect",8);$();var u=te();S(u,5,p,F,(s,a)=>{var i=re(),n=f(i,!0);l(i),j(()=>{V(i,1,`rounded-full border px-4 py-1.5 text-sm font-medium transition-colors
            ${_()===e(a)?"border-green-600 bg-green-600 text-white":"border-green-600 text-green-600 hover:bg-green-50"}`),D(n,e(a))}),q("click",i,()=>O()(e(a))),b(s,i)}),l(u),b(y,u),U()}var ne=x("<button> </button>"),se=x('<div class="container mx-auto px-4 py-8"><div class="mb-8 border-b-2 border-gray-200"><nav class="-mb-0.5 flex space-x-6 overflow-x-auto pb-4" aria-label="Tabs"></nav></div> <div class="mb-6 flex items-baseline gap-4"><h1 class="text-3xl font-bold text-gray-900">Promociones</h1> <button class="text-sm font-medium text-green-600 hover:text-green-500">Ver todo</button></div> <!> <div class="mt-8 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"></div></div>');function ye(y,g){B(g,!1);const p=()=>X(Z,"$inventoryStore",_),[_,O]=W(),u=v();let s=v("Todos"),a=v([]),i=v(["Todos"]);J(()=>{const r=ee.getInstance();r.initialize(),r.requestInventory("PLATO",50),r.requestInventory("BEBIDA",20),r.requestInventory("COMPLEMENTO",20),r.requestInventory("PROMOCION",20)});function n(r){if(r!=null)return typeof r=="object"&&"S"in r?r.S:typeof r=="object"&&"N"in r?r.N:r}function K(r){if(!r)return"Otros";switch(r){case"PLATO":case"PLATO_FONDO":return"ClÃ¡sicos";case"BEBIDA":return"Bebidas";case"COMPLEMENTO":return"Complementos";case"PROMOCION":return"Promociones";default:return r.charAt(0).toUpperCase()+r.slice(1).toLowerCase().replace("_"," ")}}function P(r){m(s,r)}E(()=>(p(),e(a)),()=>{const r=Object.values(p());m(a,r.map(t=>{const d=n(t.sk)||n(t.sku)||n(t.SK)||n(t.producto_id),k=n(t.pk)||n(t.tenantId)||n(t.PK)||n(t.tenant_id),R=n(t.name)||n(t.nombre),z=n(t.description)||n(t.descripcion),w=n(t.price)||n(t.precio),G=n(t.img)||n(t.imagenUrl),H=n(t.productType)||n(t.category)||n(t.tipo_id),N=n(t.stock);return{id:d||Math.random().toString(),nombre:R||"Producto sin nombre",descripcion:z||"",precio:w?parseFloat(w):0,precioAnterior:void 0,descuento:void 0,imagenUrl:G||"/placeholder_food.png",category:K(H),sku:d,tenantId:k,stock:N?parseInt(N):0}}));const o=new Set(e(a).map(t=>t.category));m(i,["Todos",...Array.from(o)])}),E(()=>(e(s),e(a)),()=>{m(u,e(s)==="Todos"?e(a):e(a).filter(r=>r.category===e(s)))}),Q(),$();var h=se(),C=f(h),M=f(C);S(M,5,()=>e(i),F,(r,o)=>{var t=ne();let d;var k=f(t,!0);l(t),j(()=>{d=V(t,1,"rounded-full border px-4 py-1.5 text-base font-bold whitespace-nowrap transition-all",null,d,{"bg-green-50":e(s)===e(o),"text-green-700":e(s)===e(o),"border-green-600":e(s)===e(o),"text-gray-800":e(s)!==e(o),"hover:text-green-600":e(s)!==e(o),"border-transparent":e(s)!==e(o)}),D(k,e(o))}),q("click",t,()=>P(e(o))),b(r,t)}),l(M),l(C);var T=L(C,4);oe(T,{get categories(){return e(i)},get activeCategory(){return e(s)},onSelect:P});var A=L(T,2);S(A,5,()=>e(u),r=>r.id,(r,o)=>{Y(r,{get id(){return e(o),c(()=>e(o).id)},get nombre(){return e(o),c(()=>e(o).nombre)},get descripcion(){return e(o),c(()=>e(o).descripcion)},get precio(){return e(o),c(()=>e(o).precio)},get precioAnterior(){return e(o),c(()=>e(o).precioAnterior)},get descuento(){return e(o),c(()=>e(o).descuento)},get imagenUrl(){return e(o),c(()=>e(o).imagenUrl)},get stock(){return e(o),c(()=>e(o).stock)}})}),l(A),l(h),b(y,h),U(),O()}export{ye as component};
